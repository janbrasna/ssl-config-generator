{{#if (minver "2.0.0" form.serverVersion)}}
{{!-- We no longer suport Caddy 1 syntax --}}
# {{output.header}}
# {{{output.link}}}
# Note: Caddy configures safe TLS settings by default

# replace example.com with your domain name
example.com {

  tls {
{{#if output.ciphers.length}}
  {{#unless (includes "TLSv1.1" output.protocols)}}
    # Due to a lack of DHE support, you -must- use an ECDSA cert to support IE 11 on Windows 7
  {{/unless}}
    ciphers {{{join output.ciphers " "}}}
{{/if}}
{{#if (includes "TLSv1.2" output.protocols)}}
  {{#if (includes "TLSv1.1" output.protocols)}}
    # Warning: Caddy can't support TLSv1 or TLSv1.1 to match {{form.config}} exactly
  {{/if}}
    #protocols tls1.2 tls1.3
{{else}}
    protocols tls1.3
{{/if}}
  }
{{#if form.hsts}}

  # HSTS ({{output.hstsMaxAge}} seconds)
  header Strict-Transport-Security "max-age={{output.hstsMaxAge}}"
{{/if}}

}
{{else}}
# Unfortunately, we no longer support generating configs for Caddy 1.
{{/if}}
